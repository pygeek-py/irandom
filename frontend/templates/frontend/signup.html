{% extends 'frontend/base.html' %}

{% block body %}
<style>
	.body1 {
		display: none;
	}
	@media only screen and (orientation: portrait) {
		.body1 {
			display: block;
		}
		body {
			background: url('/media/images/download.jpg');
			background-size: cover;
		}
		* {
			font-family: sans-serif;
			color: white;
		}
		a {
			text-decoration: none;
		}
		.round {
			width: 25vw;
			height: 10vh;
			border-radius: 50%;
			background-color: black;
			margin: 0 auto;
			margin-top: 2rem;
			margin-bottom: 2rem;
		}
		.middle {
			margin-left: 2rem;
		}
		.h1mid {
			font-weight: 500;
			font-size: 2rem;
		}
		.h4mid {
			font-weight: lighter;
			font-size: 1.3rem;
			opacity: 0.7;
		}
		.h4mide {
			font-weight: lighter;
			font-size: 1.4rem;
			opacity: 0.7;
			padding-bottom: 0.4rem;

		}
		.h4mides {
			font-weight: lighter;
			font-size: 1.4rem;
			opacity: 0.7;
			padding-bottom: 0.4rem;
			padding-top: 0.6rem;

		}
		.h4mids {
			font-weight: lighter;
			font-size: 1.3rem;
			opacity: 0.7;
			padding-left: 2.3rem;
			padding-bottom: 0.4rem;
			padding-top: 0.4rem;
		}
		.spa {
			font-weight: lighter;
			font-size: 1.3rem;
			opacity: 0.7;
			color: blue;
		}
		.usernames {
			width: 85%;
			height: 7vh;
			border: 1px solid black;
			background-color: transparent;
			font-size: 1.6rem;
			color: gray;
			padding-left: 2rem;
			margin-bottom: 0.9rem;
		}
		.usernames:hover {
			border: 1px solid black;
			background-color: transparent;
		}
		.passwords {
			width: 85%;
			height: 7vh;
			border: 1px solid black;
			background-color: transparent;
			font-size: 1.6rem;
			color: gray;
			padding-left: 2rem;
		}
		.passwords:hover {
			border: 1px solid black;
			background-color: transparent;
		}
		.but {
			width: 95%;
			height: 7vh;
			border: none;
			background-color: blue;
			font-size: 1.6rem;
			color: white;
			text-align: center;
			margin-top: 1.5rem;
		}
		.but:hover {
			
		}
		.flexor {
			width: 90%;
			display: flex;
			justify-content: space-around;
			align-items: center;
		}
		.line {
			width: 43%;
			height: 0.2vh;
			background-color: grey;
		}
		.buts {
			width: 95%;
			height: 8.5vh;
			border: 1px solid gray;
			background-color: transparent;
			font-size: 1.4rem;
			color: gray;
			text-align: center;
			margin-top: 1.5rem;
			opacity: 0.8;
		}
		.quali {
			margin-top: 1rem;
			width: 90%;
			height: 0.5vh;
			overflow-y: hidden;
			transition: all 400ms ease-in; 
			border: 1px solid black;
			background-color: transparent;
			font-size: 1.3rem;
			color: black;
			padding-left: 1rem;
			display: block;
		}
		
	}
</style>
	<div class="body1">
		<div class="round"></div>
		<center>
				<h2 class="h1mid">Welcome</h2>
				<h4 class="h4mid">Sign Up to Randomore to Continue</h4>
		</center>
		<div class="middle">
			<input type="text" placeholder="username" id="username" class="usernames">


			<div class="pas" onclick="pa()">
		<input type="password" placeholder="password" id="password" class="passwords" onchange="gat()">
				<div class="quali" id="qua">
					<li class="h4mides">Your password must contain: </li>
					<li class="h4mide" id="one">At least 8 characters</li>
				</div>
			</div>






			<button class="but" onclick="signup()" type="submit">Continue</button>






			<h4 class="h4mid">Already have an account? <span class="spa"><a class="{% url 'login' %}">Sign in</a></span></h4>





			<div class="flexor">
				<div class="line"></div>
				<h3 class="h3mid">OR</h3>
				<div class="line"></div>
			</div>
			<button class="buts" onclick="signup()" type="submit">Continue with Google</button>
		</div>
	</div>
<script type="text/javascript">

		function pa() {
			var a = document.getElementById('qua');
			a.style.height = "15vh";
		}

		const myinput = document.getElementById('password');
		/*myinput.addEventListener('input', gat)*/
		myinput.oninput = gat

		function gat() {
			var a = document.getElementById('one')
			var b = document.getElementById('two')
			var c = document.getElementById('three')
			var d = document.getElementById('four')
			var e = document.getElementById('password').value

			if (e.length > 8) {
				a.style.color = "green"
				a.style.fontWeight = "750"
			}
			else {
				a.style.color = "black"
				a.style.fontWeight = "normal"
			}



		}

		async function signup() {
			var url = 'http://localhost:8000/base/register/'

			const response = await fetch(url, {
				method: 'POST',
				headers: ({
					'Content-Type': 'application/json'
				}),
				body: JSON.stringify({
					username: document.getElementById('username').value,
					password: document.getElementById('password').value
				})
			})
			const data = await response.json()
			console.log(data)
			if (data.username) {
				window.location = "/"
			}

		}
</script>
{% endblock %}